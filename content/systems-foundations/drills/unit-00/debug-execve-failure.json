{
  "slug": "debug-execve-failure",
  "unit_order_index": 0,
  "drill_type": "debug",
  "prompt_markdown": "This code is supposed to run `/bin/ls` in a child process, but the parent reports \"Child exited with status 255\" and nothing is listed. What's wrong?\n\n```c\n#include <stdio.h>\n#include <unistd.h>\n#include <sys/wait.h>\n\nint main() {\n    pid_t pid = fork();\n    \n    if (pid == 0) {\n        execve(\"/bin/ls\", NULL, NULL);\n        // If we get here, exec failed\n        return -1;\n    }\n    \n    int status;\n    waitpid(pid, &status, 0);\n    printf(\"Child exited with status %d\\n\", WEXITSTATUS(status));\n    return 0;\n}\n```",
  "difficulty": 3,
  "estimated_minutes": 5,
  "concept_tags": ["exec", "fork", "debugging", "unix"],
  "rubric": {
    "criteria": [
      {
        "name": "identification",
        "description": "Identifies that argv cannot be NULL for execve",
        "max_score": 2
      },
      {
        "name": "explanation",
        "description": "Explains execve requires valid argv array with at least program name",
        "max_score": 2
      },
      {
        "name": "fix",
        "description": "Shows correct argv array: char *argv[] = {\"/bin/ls\", NULL};",
        "max_score": 1
      }
    ],
    "expected_key_points": [
      "argv cannot be NULL in execve",
      "argv must be array with at least argv[0] (program name)",
      "argv must be NULL-terminated",
      "fix: char *argv[] = {\"/bin/ls\", NULL}; execve(\"/bin/ls\", argv, NULL);"
    ],
    "common_mistakes": [
      "thinking the path is wrong",
      "not knowing execve's argv requirements",
      "confusing with execlp or other exec variants"
    ]
  }
}
